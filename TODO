TODO
====

Bugs to fix and Features to add before a 4.2 release
----------------------------------------------------

* xen-create-image man page overhaul:

- ambiguous option list with regards to parameters

- talks about Sarge and Etch

* xen-create-image --dist=... should be more fine-grained

   It should offer the possibility to enabled/disable
   security/volatile/backports as well as
   contrib/non-free/universe/restricted/multiverse for each of them.

   My current idea is to allow parameters like

   --dist="lenny:main,contrib,non-free;security;volatile:main"

   and maybe (if the default will be to include security) to also
   allow

   --dist="lenny;no-security"

* Test and support more file system types.

   Actually this should be pretty simple now that the parameters are
   stored in the configuration hash.  The only issue is that trailing
   whitespace is missing from the "make_fs_foo" option.

* Should check all integer expection options on other characters than digits.

* Test suite should pass

   Currently failing:

   t/getopt.t
   t/xen-delete-image.t
   t/xen-tools.t
   t/xt-create-xen-config.t

Maybe for a 4.3 or 5.0 release
------------------------------

* LVM snapshot support as an install source.

* Clean up mounts on Ctrl-C, causes error while installing otherwise:

   Removing /dev/vg0/acromantula-domu1-disk - since we're forcing the install
   Can't remove open logical volume "acromantula-domu1-disk"

* btrfs support

* Clean up the hooks directory

   Currently we have one directory for Ubuntu and Fedora named after
   the first supported release which is then duplicated for each
   subsequent release.

   I'm sure this won't scale forever. So to minimise code duplication
   I'd like to have one common directory per distribution (e.g. called
   ubuntu-common, fedora-common, etc.) with generic hooks valid for
   all or most of the releases of one distribution and then one hook
   directory per release (e.g. called ubuntu-10.04 or ubuntu-lucid or
   so) which has symbolic links to everything which can be used
   unchanged from the common directory and new files for everything
   which has to be different or only there.

Stuff from Steve's TODO list / Generic TODOs
--------------------------------------------

* Write more test cases.

* xen-delete-image should unallocate any used IP addresses.
